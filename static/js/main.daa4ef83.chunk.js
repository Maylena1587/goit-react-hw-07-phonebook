(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(e,t,n){e.exports={contact:"Contact_contact__C97Xp",icon:"Contact_icon__wvQTn",name:"Contact_name__3SliL",phone:"Contact_phone__33nio"}},22:function(e,t,n){e.exports={form:"Filter_form__qVDKj",label:"Filter_label__1YSSR",title:"Filter_title__26FoE",searchField:"Filter_searchField__28eJf"}},24:function(e,t,n){e.exports={section:"Section_section__jbg61",title:"Section_title__37fMi",flex:"Section_flex__DUgPg"}},41:function(e,t,n){e.exports={container:"Container_container__aIBou"}},42:function(e,t,n){e.exports={iconBtn:"IconButton_iconBtn__12eGM"}},46:function(e,t,n){e.exports={contactList:"ContactList_contactList__2iKut"}},48:function(e,t,n){e.exports={wrapper:"Footer_wrapper__CdoAF"}},80:function(e,t,n){},9:function(e,t,n){e.exports={form:"ContactForm_form__3KBPC",label:"ContactForm_label__1YzUx",addField:"ContactForm_addField__R26Hg",btn:"ContactForm_btn__1omhE",error:"ContactForm_error__3qLbI"}},90:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"changeFilter",(function(){return p}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return S})),n.d(a,"addContact",(function(){return q})),n.d(a,"deleteContact",(function(){return B}));var c={};n.r(c),n.d(c,"getContacts",(function(){return ie})),n.d(c,"getFilter",(function(){return ue})),n.d(c,"getLoadingData",(function(){return se})),n.d(c,"getErrorData",(function(){return le})),n.d(c,"getFilteredContacts",(function(){return de}));var o=n(0),i=n.n(o),u=n(14),s=n.n(u),l=n(6),d=n(8),b=n(3),j=n(5),f=n(12),p=Object(d.b)("filter/change"),m=n(4),h=n.n(m),O=n(7),x=n(21),_=n.n(x);function v(){return g.apply(this,arguments)}function g(){return(g=Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/contacts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return y.apply(this,arguments)}function y(){return(y=Object(O.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t,number:n},e.next=3,_.a.post("/contacts",r);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return F.apply(this,arguments)}function F(){return(F=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete("/contacts/".concat(t));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_.a.defaults.baseURL="http://localhost:4040";var w,L,k,S=Object(d.c)("contacts/fetchContacts",function(){var e=Object(O.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,v();case 4:return a=e.sent,console.log("om ok"),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(d.c)("contacts/addContact",function(){var e=Object(O.a)(h.a.mark((function e(t,n){var r,a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,a=t.number,c=n.rejectWithValue,e.prev=2,e.next=5,C(r,a);case 5:return o=e.sent,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(d.c)("contacts/deleteContact",function(){var e=Object(O.a)(h.a.mark((function e(t,n){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,a=N(t),e.abrupt("return",a);case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),M=Object(d.d)([],(w={},Object(b.a)(w,S.fulfilled,(function(e,t){return t.payload})),Object(b.a)(w,q.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(j.a)(e),[n])})),Object(b.a)(w,B.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),w)),D=Object(d.d)("",Object(b.a)({},p,(function(e,t){return t.payload}))),E=Object(d.d)(!1,(L={},Object(b.a)(L,S.pending,(function(){return!0})),Object(b.a)(L,S.fulfilled,(function(){return!1})),Object(b.a)(L,S.rejected,(function(){return!1})),Object(b.a)(L,q.pending,(function(){return!0})),Object(b.a)(L,q.fulfilled,(function(){return!1})),Object(b.a)(L,q.rejected,(function(){return!1})),Object(b.a)(L,B.pending,(function(){return!0})),Object(b.a)(L,B.fulfilled,(function(){return!1})),Object(b.a)(L,B.rejected,(function(){return!1})),L)),P=Object(d.d)(null,(k={},Object(b.a)(k,S.rejected,(function(e,t){return t.payload})),Object(b.a)(k,S.pending,(function(){return null})),Object(b.a)(k,q.rejected,(function(e,t){return t.payload})),Object(b.a)(k,q.pending,(function(){return null})),Object(b.a)(k,B.rejected,(function(e,t){return t.payload})),Object(b.a)(k,B.pending,(function(){return null})),k)),z=Object(f.c)({contacts:M,filter:D,isLoading:E,error:P}),A=Object(d.a)({reducer:z,devTools:!1}),I=(n(80),n(41)),R=n.n(I),V=n(2);function H(e){var t=e.children;return Object(V.jsx)("div",{className:R.a.container,children:t})}var J=n(43),K=n.n(J),U=n(44),W=n.n(U),T=n(45),Y=n.n(T),Z=n(16),$=n.n(Z),G=n(31),Q=n(50),X=n(42),ee=n.n(X);function te(e){var t=e.children,n=e.onClick,r=Object(Q.a)(e,["children","onClick"]);return Object(V.jsx)("button",Object(G.a)(Object(G.a)({type:"button",className:ee.a.iconBtn,onClick:n},r),{},{children:t}))}te.defaultProps={onClick:function(){return null},children:null};var ne=te;var re=function(e){var t=e.id,n=e.name,r=e.phone,a=e.deleteHandler;return Object(V.jsxs)("li",{className:$.a.contact,children:[Object(V.jsxs)("span",{className:$.a.name,children:[Object(V.jsx)(K.a,{className:$.a.icon}),n]}),Object(V.jsxs)("span",{className:$.a.phone,children:[Object(V.jsx)(W.a,{className:$.a.icon}),r]}),Object(V.jsx)(ne,{onClick:a,"aria-label":"delete contact",children:Object(V.jsx)(Y.a,{})})]},t)},ae=n(46),ce=n.n(ae),oe=n(23),ie=function(e){return e.contacts},ue=function(e){return e.filter},se=function(e){return e.isLoading},le=function(e){return e.error},de=Object(oe.a)([ue,ie],(function(e,t){var n=e.toLowerCase().trim();return t.filter((function(e){var t;return null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n)}))})),be=c.getContacts,je=c.getFilter,fe=c.getFilteredContacts;var pe=function(){var e=Object(l.c)(be),t=Object(l.c)(je),n=Object(l.c)(fe),r=Object(l.b)(),c=t.trim()?n:e;return Object(V.jsx)("ul",{className:ce.a.contactList,children:c.map((function(e){return re({id:e.id,name:e.name,phone:e.number,deleteHandler:function(){return r(a.deleteContact(e.id))}})}))})},me=n(49),he=n(9),Oe=n.n(he);var xe=function(){var e=Object(me.a)(),t=e.register,n=e.handleSubmit,r=e.errors,i=e.reset,u=Object(o.useRef)(),s=Object(l.c)(c.getContacts),d=Object(l.b)();return Object(V.jsxs)("form",{className:Oe.a.form,onSubmit:n((function(e){s.find((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in Phonebook")):(d(a.addContact({name:e.name.trim(),number:e.number.trim()})),u.current.blur(),i({}))})),children:[Object(V.jsxs)("label",{className:Oe.a.label,children:[Object(V.jsx)("input",{ref:t({required:!0,minLength:3,maxLength:18,pattern:/^[A-Za-z]+([ A-Za-z]+)*$/}),className:Oe.a.addField,type:"text",name:"name",placeholder:"name"}),r.name&&"required"===r.name.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Name is required"}),r.name&&"minLength"===r.name.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Name is too short. Minimum 3 characters."}),r.name&&"maxLength"===r.name.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Name is too long. Maximum 18 characters."}),r.name&&"pattern"===r.name.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Name can contain only english letters."})]}),Object(V.jsxs)("label",{className:Oe.a.label,children:[Object(V.jsx)("input",{ref:t({required:!0,maxLength:12,pattern:/^\d+$/}),className:Oe.a.addField,type:"text",name:"number",placeholder:"xxxx-xx-xx"}),r.number&&"required"===r.number.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Number is required"}),r.number&&"pattern"===r.number.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Phone number should consist only from numbers."}),r.number&&"maxLength"===r.number.type&&Object(V.jsx)("p",{className:Oe.a.error,children:"Number is too long. Maximum 12 digits."})]}),Object(V.jsx)("button",{ref:u,className:Oe.a.btn,type:"submit",children:"Add contact"})]})},_e=n(24),ve=n.n(_e);var ge=function(e){var t=e.title,n=e.children,r=e.flex?ve.a.flex:"";return Object(V.jsxs)("section",{className:ve.a.section+" "+r,children:[Object(V.jsx)("p",{className:ve.a.title,children:t}),n]})},Ce=n(22),ye=n.n(Ce);var Ne=function(){var e=Object(l.c)(c.getFilter),t=Object(l.b)();return Object(V.jsx)("form",{className:ye.a.form,children:Object(V.jsxs)("label",{className:ye.a.label,children:[Object(V.jsx)("span",{className:ye.a.title,children:"Find contacts by name"}),Object(V.jsx)("input",{className:ye.a.searchField,type:"text",value:e,onChange:function(e){return t(r.changeFilter(e.target.value))}})]})})},Fe=n(47),we=n.n(Fe);var Le=function(){return Object(V.jsx)(we.a,{size:30,margin:10,color:"fandango",loading:!0})},ke=n(48),Se=n.n(ke);var qe=function(){return Object(V.jsx)("div",{className:Se.a.wrapper,children:"(c) My project"})};var Be=function(){var e=Object(l.c)(c.getContacts),t=Object(l.c)(c.getErrorData),n=Object(l.c)(c.getLoadingData),r=Object(l.b)();return Object(o.useEffect)((function(){r(a.fetchContacts())}),[]),Object(V.jsxs)(H,{children:[Object(V.jsx)(ge,{title:"Phonebook",flex:!1,children:Object(V.jsx)(xe,{})}),Object(V.jsx)(ge,{title:"Contacts",flex:!0,children:n?Object(V.jsx)(Le,{}):e.length?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Ne,{}),Object(V.jsx)(pe,{})]}):t?Object(V.jsxs)("div",{children:["Oops. ",t,"."]}):Object(V.jsx)("div",{children:"Oops. no contacts here! Let's add some data!"})}),Object(V.jsx)(qe,{})]})};s.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(l.a,{store:A,children:Object(V.jsx)(Be,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.daa4ef83.chunk.js.map